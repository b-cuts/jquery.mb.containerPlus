<!DOCTYPE HTML>
<html>
<head>
<title>simple container</title>

<style>

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
  -webkit-tap-highlight-color:rgba(0,0,0,0);

  text-rendering:optimizeLegibility;
  /*-webkit-user-select:none;*/
}

* :focus { outline: 0; }

  /* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
  display: block;
}

ol, ul {
  list-style: none;
}

blockquote, q {
  quotes: none;
}

blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}

table {
  border-collapse: collapse;
  border-spacing: 0;
}

.ui-resizable {
  position: relative;
}
.ui-resizable-handle {
  position: absolute;
  font-size: 0.1px;
  z-index: 1;
  display: block;
}
.ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle {
  display: none;
}
.ui-resizable-n {
  cursor: n-resize;
  height: 7px;
  width: 100%;
  top: -5px;
  left: 0px;
}
.ui-resizable-s {
  cursor: s-resize;
  height: 7px;
  width: 100%;
  bottom: -5px;
  left: 0px;
}
.ui-resizable-e {
  cursor: e-resize;
  width: 7px;
  right: -5px;
  top: 0px;
  height: 100%;
}
.ui-resizable-w {
  cursor: w-resize;
  width: 7px;
  left: -5px;
  top: 0px;
  height: 100%;
}
.ui-resizable-se {
  cursor: se-resize;
  width: 12px;
  height: 12px;
  right: 1px;
  bottom: 1px;
  z-index: 1!important;
}
.ui-resizable-sw {
  cursor: sw-resize;
  width: 9px;
  height: 9px;
  left: -5px;
  bottom: -5px;
}
.ui-resizable-nw {
  cursor: nw-resize;
  width: 9px;
  height: 9px;
  left: -5px;
  top: -5px;
}
.ui-resizable-ne {
  cursor: ne-resize;
  width: 9px;
  height: 9px;
  right: -5px;
  top: -5px;
}

.mbproxy {
  border: 1px dotted gray;
  background: rgba(0,0,0,0.1);
  min-height: 100px;
  min-width: 100px;
}


body{}

#wrapper{
  position: absolute;
  width: 100%;
  height: 100%;

  background: #606c88; /* Old browsers */
  background: -moz-radial-gradient(center, ellipse cover,  #606c88 0%, #3f4c6b 100%); /* FF3.6+ */
  background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,#606c88), color-stop(100%,#3f4c6b)); /* Chrome,Safari4+ */
  background: -webkit-radial-gradient(center, ellipse cover,  #606c88 0%,#3f4c6b 100%); /* Chrome10+,Safari5.1+ */
  background: -o-radial-gradient(center, ellipse cover,  #606c88 0%,#3f4c6b 100%); /* Opera 12+ */
  background: -ms-radial-gradient(center, ellipse cover,  #606c88 0%,#3f4c6b 100%); /* IE10+ */
  background: radial-gradient(center, ellipse cover,  #606c88 0%,#3f4c6b 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#606c88', endColorstr='#3f4c6b',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
}

.container{
  visibility: hidden;
}

  /*CONTAINER SKIN DEFAULT*/

.mbc_container{
  visibility: hidden;
  position: absolute;
  width: 450px;
  height: 300px;
  box-shadow: 0 0 5px rgba(0,0,0,0.3);
  overflow: hidden;
  font-family: 'Lekton', sans-serif;
  font-size: 16px;

  background: #ffffff; /* Old browsers */
  background: -moz-linear-gradient(top,  #ffffff 0%, #e5e5e5 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* IE10+ */
  background: linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */

  min-height: 100px;
  min-width: 100px;
  border-radius: 10px;
}

.mbc_container *{
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.mbc_container.dragging{
  box-shadow: 0 0 20px 3px rgba(0,0,0,0.5);
}

.mbc_container > .mbc_header {
  position: absolute;
  top:0;
  width: 100%;
  border-bottom: 1px solid #c2c2bd;

  background: #ffffff; /* Old browsers */
  background: -moz-linear-gradient(top,  #ffffff 0%, #e5e5e5 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* IE10+ */
  background: linear-gradient(top,  #ffffff 0%,#e5e5e5 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
  box-shadow: 0 0 4px 0 rgba(0,0,0,0.4);
  -moz-box-sizing: border-box;
  box-sizing: border-box;

  border-radius: 9px 9px 0 0 ;

}
.mbc_container > .mbc_header h2{
  width: 80%;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  margin: 0;
  padding: 10px;
  font-size: 18px;
  font-weight: normal;
  cursor: move
}

.mbc_container > .mbc_controls{
  position: absolute;
  top:8px;
  right: 8px;
}

.mbc_container > .mbc_controls div{
  border-radius: 10px;
  padding: 7px;
  display: inline-block;
  margin: 3px;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  background: #d4d4d4;
}


.mbc_container > .mbc_header > .mbc_toolBar{
  width: 100%;
  white-space: nowrap;
  text-overflow: ellipsis;
  font-weight: normal;
  cursor: move;
  border-top:1px solid #d4d4d4;
  text-align: right;
}

.mbc_container > .mbc_header > .mbc_toolBar > button.mbc_button{
  position: relative;
  color: #000;
  border:none;
  border-left:1px solid rgba(0,0,0,.1);
  border-right:1px solid rgba(0,0,0,.2);
  padding: 3px;
  margin: 0;
  -moz-border-radius: 0;
}
.mbc_container > .mbc_header > .mbc_toolBar > button.mbc_button:hover{
  background: rgba(0,0,0,.1);
}


.mbc_container > .mbc_content {
  position: relative;
  padding-top: 20px;
  height: 100%;
  padding-left: 20px;
  padding-right: 20px;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow: auto;
}

.mbc_container > .mbc_footer {
  position: absolute;
  height: 20px;
  width: 100%;
  background: #fff; /* Old browsers */
  bottom: 0;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border-top: 1px solid #c2c2bd;
}

  /*SKIN BLACK*/


.mbc_container.black{

  background: #45484d; /* Old browsers */
  background: -moz-linear-gradient(top,  #45484d 0%, #000000 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#45484d), color-stop(100%,#000000)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  #45484d 0%,#000000 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  #45484d 0%,#000000 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  #45484d 0%,#000000 100%); /* IE10+ */
  background: linear-gradient(top,  #45484d 0%,#000000 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#45484d', endColorstr='#000000',GradientType=0 ); /* IE6-9 */

  border-radius: 0;

}

.mbc_container.black > .mbc_header {
  position: absolute;
  top:0;
  width: 100%;
  border-bottom: 1px solid #3b3b3a;

  background: #45484d; /* Old browsers */
  background: -moz-linear-gradient(top,  #45484d 0%, #000000 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#45484d), color-stop(100%,#000000)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  #45484d 0%,#000000 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  #45484d 0%,#000000 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  #45484d 0%,#000000 100%); /* IE10+ */
  background: linear-gradient(top,  #45484d 0%,#000000 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#45484d', endColorstr='#000000',GradientType=0 ); /* IE6-9 */

  border-radius: 0 ;

}
.mbc_container.black > .mbc_header h2{
  width: 80%;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  margin: 0;
  padding: 10px;
  font-size: 18px;
  color:white;
  font-weight: normal;
  cursor: move;
}

.mbc_container.black > .mbc_controls{
  position: absolute;
  top:8px;
  right: 8px;
}

.mbc_container.black > .mbc_controls div{
  border-radius: 10px;
  padding: 7px;
  display: inline-block;
  margin: 3px;
  -moz-box-sizing: border-box;
  box-sizing: border-box;

  background: #d4d4d4;

}

.mbc_container.black > .mbc_content {
  position: relative;
  padding-top: 20px;
  height: 100%;
  padding-left: 20px;
  padding-right: 20px;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  overflow: auto;

  color: white
}

.mbc_container.black .mbc_toolBar button.mbc_button{
  color: white;
  background:rgba(255,255,255,.1);
}

.mbc_container.black > .mbc_footer {
  position: absolute;
  height: 20px;
  width: 100%;

  background: #13171c;

  bottom: 0;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border-top: 1px solid #3b3b3a;
}

</style>
<link href='http://fonts.googleapis.com/css?family=Lekton' rel='stylesheet' type='text/css'>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.js"></script>
<script type="text/javascript" src="inc/jquery.iphoneui.js"></script>

<script>

(function($){

  $.containerize={
    author:"Matteo Bicocchi",
    version:"3.0",
    defaults:{
      containment:"document",
      elementsPath:"elements/",
      dockedIconDim:35,
      onCreate:function(o){},
      onCollapse:function(o){},
      onBeforeIconize:function(o){},
      onIconize:function(o){},
      onClose: function(o){},
      onBeforeClose: function(o){},
      onResize: function(o,w,h){},
      onDrag: function(o,x,y){},
      onRestore:function(o){},
      onMaximize:function(o){},
      onLoad:function(o){},
      onClick:function(o){},
      mantainOnWindow:true,
      effectDuration:100,
      zIndexContext:"auto" // or your selector (ex: ".containerPlus")
    },

    init:function(opt){

      if(typeof opt === "string"){

        var method=opt;
        delete arguments[0];
        var params = [];
        for (var i in arguments){
          if(arguments[i])
            params.push(arguments[i]);
        }
        this.each(function(){
          $.containerize.methods[method].apply(this, params);
        });
        return false;
      }

      $(window).bind("resize",function(){
        $(".mbc_container").each(function(){
          var el = this;
          el.$.containerize("windowResize","pippo","pluto");
        })
      });

      return this.each(function(){
        var el= this;
        el.$=$(el);
        el.opt = {};
        $.extend (el.opt, $.containerize.defaults, opt);
        $.containerize.build(el);
        el.$.css("visibility","visible");
      });
    },

    build:function(el){
      el.$.css({opacity:0});
      el.id = el.id ? el.id : "mbc_" + new Date().getTime();
      var titleText = el.$.find("h2:first");
      el.$.find("h2:first").remove();
      var HTML = el.$.html();
      el.$.empty();

      el.$.addClass("mbc_container");

      var header = $("<div/>").addClass("mbc_header");
      var title = $("<div/>").addClass("mbc_title").html(titleText);
      var controls = $("<div/>").addClass("mbc_controls");
      var buttonBar = $("<div/>").addClass("mbc_toolBar");

      var content = $("<div/>").addClass("mbc_content").html(HTML);
      var footer = $("<div/>").addClass("mbc_footer").unselectable();

      header.append(title).append(controls).append(buttonBar).addTouch();
      el.$.append(content).append(header).append(footer);

      el.header = header;
      el.containerTitle = title;
      el.footer = footer;
      el.content = content;
      el.controls = controls;
      el.buttonBar = buttonBar;

      el.$.bind("mousedown",function(){
        $(this).mb_bringToFront();
      });

      $.containerize.applyMethods(el).addTouch();

      setTimeout(function(){
        el.$.containerize("adjust");
        el.$.fadeTo(300,1);
      },500);
    },

    applyMethods:function(el, data){
      var properties = el.$.data();
      if(data)
        properties = properties[data];

      for (var els in properties){
        if(typeof $.containerize.methods[els] == "function" && properties[els]){
          var params=[];
          if(typeof properties[els] != "boolean")
            params.push(properties[els]);
          $.containerize.methods[els].apply(el,params);
        }
      }
      return el.$;
    },

    methods:{

      drag:function(){
        var el = this;

        if(!el.isDraggable){
          el.$.draggable({
            handle:".mbc_header",
            start:function(e,ui){
              ui.helper.addClass("dragging");
            },
            stop:function(e,ui){
              ui.helper.removeClass("dragging");
            },
            containment: el.$.containerize("setContainment") //,
            //grid: el.$.data("grid") ? [parseFloat(el.$.data("grid").split(",")[0]), parseFloat(el.$.data("grid").split(",")[1])]: ""
          });
          el.isDraggable=true;
          return el.$;
        }
      },

      resize:function(){
        var el = this;

        if(!el.isResizable)
          el.$.resizable({
            helper: "mbproxy",
            start:function(e,ui){
              var elH= el.$.data("containment")?el.$.parents().height():$(window).height()+$(window).scrollTop();
              var elW= el.$.data("containment")?el.$.parents().width():$(window).width()+$(window).scrollLeft();
              var elPos= el.$.data("containment")? el.$.position():el.$.offset();
              el.$.resizable('option', 'maxHeight',elH-(elPos.top+20));
              el.$.resizable('option', 'maxWidth',elW-(elPos.left+20));
              ui.helper.mb_bringToFront();
            },
            stop:function(e,ui){
              var container= ui.element;
              container.containerize("adjust");
              container.containerize("setContainment");
              ui.helper.mb_bringToFront();
            }
          });
        el.isResizable=true;
        return el.$;
      },

      setContainment:function(containment){
        var el = this;

        containment = !containment ? el.$.data("containment") : containment;

        if(!containment)
          return false;

        el.$.data("containment", containment);
        if(containment == "document"){
          var dH=($(document).height()-(el.$.outerHeight()+10));
          var dW=($(document).width()-(el.$.outerWidth()+10));
          containment= [0,0,dW,dH]; //[x1, y1, x2, y2]
        }
        if(el.$.data("drag") && containment!=""){
          el.$.draggable('option', 'containment', containment);
        }
        return containment;
      },

      close:function(animate){
        var el = this;

        var time= animate ? animate : 0;
        if(!el.isClosed)
          el.$.fadeOut(time);
        el.isClosed=true;
        return el.$;
      },

      collapse:function(){
        var el = this;

        el.containerTitle.bind("dblclick",function(){
          if(!el.isCollapsed){
            el.h= el.$.outerHeight();
            el.minH = el.$.css("min-height");

            el.$.css("min-height",0);

            el.content.hide();
            el.buttonBar.hide();
            el.footer.hide();

            var height = parseFloat(el.header.outerHeight());
            el.$.animate({height:height},el.opt.effectDuration,function(){
              el.$.containerize("setContainment");
            });
            el.$.resizable("disable");
            el.isCollapsed = true;
          }else{
            el.$.animate({height:el.h},el.opt.effectDuration,function(){
              el.$.css("min-height",el.minH);
              el.content.show();
              el.buttonBar.show();
              el.footer.show();
              el.$.resizable("enable");
              el.$.containerize("setContainment");
            });
            el.isCollapsed = false;
          }
        })
      },

      skin:function(skin){
        var el = this;
        if(!skin){
          el.$.removeClass(el.$.data("skin"));
          return;
        }

        el.$.addClass(skin);
        el.$.data("skin",skin);


        el.$.containerize("adjust");
        return el.$;
      },

      adjust:function(){
        var el = this;

        var h= parseFloat(el.$.outerHeight()) - parseFloat(el.$.find(".mbc_header").outerHeight()) - parseFloat(el.$.find(".mbc_footer").outerHeight());
        el.$.find(".mbc_content").css({height:h});
        el.$.find(".mbc_content").css({marginTop:parseFloat(el.$.find(".mbc_header").outerHeight())});
        return el.$;
      },

      windowResize:function(){
        var el = this;

        el.$.containerize("setContainment", el.$.data("containment"))
      },

      alwaisontop:function(el){
        el.zi=el.$.css("z-index");
        el.$.css("z-index",100000).addClass("alwaysOnTop");
      },

      draggrid:function(xy){
        var el = this;

        if(!xy)
          return;

        var split = xy.split(",");
        var grid = [parseFloat(split[0]),parseFloat(split[1])];

        if(el.$.data("drag"))
          setTimeout(function(){
            el.$.draggable('option', 'grid', grid);
          },1);
        return grid;
      },

      resizegrid:function(xy){
        var el = this;

        if(!xy)
          return;

        var split = xy.split(",");
        var grid = [parseFloat(split[0]),parseFloat(split[1])];

        if(el.$.data("drag"))
          setTimeout(function(){
            el.$.resizable('option', 'grid', grid);
          },1);
        return grid;
      }
    },

    addtotoolbar:function(label,fn){
      var el = this;

    },

    addMethod:function(name, fn){
      $.containerize.methods[name]=fn;
    }
  };

  $.fn.containerize = $.containerize.init;


  $.fn.unselectable=function(){
    return this.each(function(){
      $(this).css({
        "-moz-user-select": "none",
        "-khtml-user-select": "none",
        "user-select": "none"
      }).attr("unselectable","on");
    });
  };

  $.fn.clearUnselectable=function(){
    return this.each(function(){
      $(this).css({
        "-moz-user-select": "auto",
        "-khtml-user-select": "auto",
        "user-select": "auto"
      });
      $(this).removeAttr("unselectable");
    });
  };

  $.fn.addTouch = function(){
    this.each(function(i,el){
      $(el).bind('touchstart touchmove touchend touchcancel',function(){
        //we pass the original event object because the jQuery event
        //object is normalized to w3c specs and does not provide the TouchList
        handleTouch(event);
      });
    });

    var handleTouch = function(event)
    {
      var touches = event.changedTouches,
              first = touches[0],
              type = '';

      switch(event.type)
      {
        case 'touchstart':
          type = 'mousedown';
          break;

        case 'touchmove':
          type = 'mousemove';
          break;

        case 'touchend':
          type = 'mouseup';
          break;

        default:
          return;
      }

      var simulatedEvent = document.createEvent('MouseEvent');
      simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0/*left*/, null);

      first.target.dispatchEvent(simulatedEvent);

      event.preventDefault();
    };
  };

  jQuery.fn.mb_bringToFront= function(zIndexContext){
    var zi=1;
    var els= zIndexContext && zIndexContext!="auto" ? $(zIndexContext): $("*");
    els.not(".alwaysOnTop").each(function() {
      if($(this).css("position")=="absolute" || $(this).css("position")=="fixed"){
        var cur = parseInt($(this).css('zIndex'));
        zi = cur > zi ? parseInt($(this).css('zIndex')) : zi;
      }
    });
    $(this).not(".alwaysOnTop").css('zIndex',zi+=1);
    return zi;
  };

})(jQuery);

</script>

</head>
<body>

<div id="wrapper">


  <div id="cont1" class="container" style=" top:130px; left: 300px;" data-drag=true data-resize=true  data-dock="dock" data-collapse=true data-containment="document" data-showdata=true>
    <h2>Container Title 1</h2>
    <p>Maecenas faucibus mollis interdum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sed diam eget risus varius blandit sit amet non magna. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. </p>
    <p>Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Aenean lacinia bibendum nulla sed consectetur. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Donec ullamcorper nulla non metus auctor fringilla. Nulla vitae elit libero, a pharetra augue. </p>
    <p>Maecenas sed diam eget risus varius blandit sit amet non magna. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Cras mattis consectetur purus sit amet fermentum. Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. </p>
  </div>

  <div id="cont2" class="container" style=" top:180px; left: 400px;" data-drag=true data-resize=true  data-dock="dock" data-collapse=true data-containment="document"  data-resizegrid="100,100">
    <h2>Container Title 3</h2>
    <button onclick="$('#cont2').containerize('showdata');">show metadata</button>
    <p>Maecenas faucibus mollis interdum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sed diam eget risus varius blandit sit amet non magna. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. </p>
    <p>Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Aenean lacinia bibendum nulla sed consectetur. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Donec ullamcorper nulla non metus auctor fringilla. Nulla vitae elit libero, a pharetra augue. </p>
    <p>Maecenas sed diam eget risus varius blandit sit amet non magna. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Cras mattis consectetur purus sit amet fermentum. Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. </p>
  </div>

  <div class="container" style=" top:230px; left: 500px;" data-skin="black" data-drag=true data-resize=true data-dock="dock" data-collapse=true data-containment="document" data-draggrid="100,100">
    <h2>Container Title 2</h2>
    <p>Maecenas faucibus mollis interdum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sed diam eget risus varius blandit sit amet non magna. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. </p>
    <p>Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Aenean lacinia bibendum nulla sed consectetur. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Donec ullamcorper nulla non metus auctor fringilla. Nulla vitae elit libero, a pharetra augue. </p>
    <p>Maecenas sed diam eget risus varius blandit sit amet non magna. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Cras mattis consectetur purus sit amet fermentum. Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. </p>
  </div>

  <div id="dock"></div>

</div>

<script>
  $(function(){

    $.containerize.addMethod("showdata",function(){
      var el = this;
      var txt = "container properties:<br><br>";
      var data = el.$.data();
      for (var i in data){
        txt += i+"= "+ data[i]+"<br>";
      }
      txt += "<hr><br>"
      el.content.prepend(txt);
    });

    $.containerize.addMethod("addtobuttonBar",function(btn){
      var el = this;
      var button = btn.clone(true);
      el.buttonBar.append(button);
    });

    $(".container").containerize();

    var changeSkinBtn = $("<button/>").addClass("mbc_button").html("change skin").click(function(e){
      var el = $(this).parents(".mbc_container");
      if(!el.hasClass('black'))
        el.containerize('skin','black');
      else
        el.containerize('skin');
      e.stopPropagation();
      e.preventDefault();
    });

    //$(".container").containerize("addtobuttonBar", changeSkinBtn);
    $("#cont2").containerize("addtobuttonBar", changeSkinBtn);

  })

</script>
</body>
</html>
